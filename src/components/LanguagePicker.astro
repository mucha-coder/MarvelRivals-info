---
import { type Lang, languages, getLocalizedPath } from '../i18n/ui';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const { pathname } = Astro.url;

const languageData = [
  { code: 'ja' as const, label: 'JP', flag: 'ðŸ‡¯ðŸ‡µ' },
  { code: 'en' as const, label: 'EN', flag: 'ðŸ‡ºðŸ‡¸' },
];
---

<nav class="flex items-center gap-1 bg-white/5 rounded-lg p-1" aria-label="è¨€èªžé¸æŠž">
  {languageData.map(({ code, label }) => (
    <a
      href={getLocalizedPath(pathname, code)}
      class:list={[
        'px-3 py-1.5 rounded-md text-sm font-medium transition-all',
        lang === code
          ? 'bg-yellow-400 text-black'
          : 'text-gray-400 hover:text-white hover:bg-white/10',
      ]}
      aria-current={lang === code ? 'page' : undefined}
    >
      {label}
    </a>
  ))}
</nav>
